---
name: project-rules
description: ОБЯЗАТЕЛЬНЫЙ скилл для проекта CRISHA.RU. Читать ПЕРЕД ЛЮБОЙ задачей — до написания кода, до планирования, до любых изменений файлов. Содержит все правила работы с проектом: язык, стиль, workflow, порядок выполнения задач.
---

# Правила проекта CRISHA.RU

> **CRITICAL**: Этот скилл ОБЯЗАТЕЛЕН к прочтению перед любой задачей. Не начинай работу без его прочтения.

## 1. Подтверждение в начале ответа

В начале **каждого** ответа всегда пиши: `✅ Правила прочитаны и приняты`

## 2. Язык и коммуникация

- **Язык общения**: строго **Русский**
- **Комментарии в коде**: всегда на **русском** языке
- **Стиль кода**: придерживаться существующих паттернов в проекте

## 3. Рабочий процесс (Workflow)

### 3.1 Всегда читать правила первыми

Перед ЛЮБОЙ задачей (создание/редактирование файлов, анализ кода, планирование):
1. Прочитать этот скилл (`project-rules`)
2. Прочитать воркфлоу: `d:\CRISHA.RU\.agents\workflows\gemini.md`

### 3.2 Планирование и этапность

После планирования **ВСЕГДА** делай следующее:
1. Составь план в `implementation_plan.md`
2. **Раздели задачу на отдельные пункты** (каждый пункт = одна конкретная операция)
3. Покажи план пользователю и **попроси разрешения начать с Пункта 1**
4. Выполняй **строго по одному пункту за раз**
5. После каждого пункта — **полная остановка + доклад**
6. Следующий пункт — **только по явной команде** пользователя

### 3.3 Выполнение команд (SafeToAutoRun)

Во время выполнения задачи **не проси подтверждения** для:
- Чтения файлов
- Создания файлов и директорий
- Запуска `npm`, `python`, `pip`, `git status`, `git log`, `git diff`
- Запуска dev-серверов (`npm run dev`, `python manage.py runserver`)
- Установки зависимостей (`pip install`, `npm install`)
- Линтинга и форматирования кода

Всегда выставляй `SafeToAutoRun: true` для безопасных операций выше.

**Спрашивай подтверждение только для:**
- `git push`
- Удаления файлов/директорий (`rm -rf`, `del`)
- Изменений в продакшн-базе данных
- Отправки внешних HTTP-запросов с реальными данными

### 3.4 Пошаговое выполнение — ОБЯЗАТЕЛЬНОЕ ПРАВИЛО

> **CRITICAL**: Каждый пункт плана — **отдельная задача с обязательной остановкой**.

**Алгоритм — следовать строго:**
1. Выполни **только один** текущий пункт — полностью и до конца
2. **Полностью остановись** — больше ничего не делай
3. Сделай **доклад** пользователю: что сделано, результат
4. **Жди команды** для перехода к следующему пункту
5. Переходи к следующему **только** получив явное разрешение:
   `"да"` / `"ок"` / `"продолжай"` / `"следующий"` / `"давай"` / `"go"`

**Что НЕЛЬЗЯ делать:**
- ❌ Выполнять несколько пунктов подряд без остановки
- ❌ Переходить к следующему пункту "пока есть импульс"
- ❌ Считать молчание пользователя разрешением продолжать
- ❌ Делать доклад и тут же начинать следующий пункт

### 3.5 Шаблон доклада после каждого пункта

```
✅ Правила прочитаны и приняты

## ✔ Пункт N завершён: [Название]

**Что сделано:**
- [действие 1]
- [действие 2]

**Результат:** [краткий итог]

---
✋ Жду команды для **Пункта N+1: [Название]**
```

## 4. Структура проекта CRISHA.RU

```
d:\CRISHA.RU\
├── backend/          # Django бэкенд
│   ├── api/          # API endpoints (urls.py, views.py, serializers.py)
│   ├── contracts/    # Модели, бизнес-логика
│   └── crisha/       # Настройки Django (settings.py, wsgi.py)
├── frontend/         # HTML/CSS/JS фронтенд
│   └── index.html    # Главная страница
└── .agents/          # Правила и скиллы для AI
    ├── skills/       # Скиллы (включая этот)
    └── workflows/    # Воркфлоу
```

## 5. Технический стек

- **Backend**: Django (Python), Django REST Framework
- **Frontend**: HTML, CSS (Vanilla), JavaScript (Vanilla)
- **AI**: DeepSeek / Polza AI для анализа контрактов
- **Payments**: Robokassa
- **Auth**: JWT токены

## 6. Дизайн-референс

Использовать изображение `d:\VLPRIME\SITE\image (1).png` как референс для всего дизайна страниц.

## 7. Git-конвенция

- Коммиты на **русском языке**
- Перед `git push` всегда спрашивай разрешения пользователя
- Домен проекта: **contractcheck.ru**
- Поддержка: support@contractcheck.ru
